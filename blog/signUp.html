<!DOCTYPE html>
<html lang="kor">
  <head>
    <meta charset="utf-8" />
    <title>내 블로그 / 방문자 회원가입</title>
    
    <style>
      body {
        margin: 0;
        padding: 0;
        background-color: lightblue;
      }

      header {
        background-color: #333;
        color: white;
        padding: 10px 0;
        text-align: center;
      }

      header h1 {
        margin: 0;
      }

      /* 네비게이션 꾸미기*/
      nav ul {
        list-style: none;
        padding: 0;
      }

      nav ul li {
        display: inline;
        margin: 0 10px; /*상하: 0, 좌우: 10*/
      }

      nav ul li a {
        color: white;
        text-decoration: none;
      }
    </style>

    <!-- jQuery CDN 주소 가져오기-->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  </head>

  <body>
    <header>
      <h1>블로그에 오신 것을 환영합니다.</h1>
      <nav>
        <ul>
          <li>
            <a href="#">홈</a>
          </li>
          <li>
            <a href="#">소개</a>
          </li>
          <li>
            <a href="#">연락처</a>
          </li>
        </ul>
      </nav>
    </header>

    <style>
      /* container class 꾸미기
         class 를 꾸밀 때는 .으로 시작한다.*/
      .container {
        display: flex;
        flex-wrap: wrap;
        margin: 20px;
      }

      /* posts class 꾸미기
         class 를 꾸밀 때는 .으로 시작한다.*/
      .posts {
        flex: 2;
        margin-right: 20px;
      }
      /* div posts posts 하위에 있는 article class 꾸미기*/
      .posts .article {
        background-color: white;
        margin-bottom: 20px;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px #f2f2f2;
      }

      .posts .article h2 {
        margin-top: 0;
      }

      .posts .article a {
        color: darkslategray;
        text-decoration: none;
      }

      /* aside class 꾸미기*/
      .aside {
        flex: 1;
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px #f2f2f2;
      }
    </style>

    <div class="container">
      <div class="posts">
        <!-- article: 블로그나 글, 뉴스 기사, 포럼 게시물 등과 같이,
                      독립적으로 작성하거나 재사용할 수 있는 내용을 
                      작성할 때 주로 사용한다.-->
        <div class="article">
          <h2>블로그 글 제목 1</h2>
          <p>블로그 첫번째 글 내용입니다. 이 블로그에는 다양한 정보가 있...</p>
          <a href="#">더보기</a>
        </div>

        <div class="article">
          <h2>블로그 글 제목 2</h2>
          <p>
            블로그 두번째 글 내용입니다. 이 곳은 소통하고 정보를 나누는 블...
          </p>
          <a href="#">더보기</a>
        </div>
      </div>

      <!-- aside: 본문 내용과 간접적으로 관련있는 내용을 표시할 때 주로 사용한다.
                  예를 들어, 블로그 페이지의 사이드 바, 광고, 관련 링크, 저자 정보 등-->
      <div class="aside">
        <h2>소개</h2>
        <p>
          안녕하세요, 블로그에 오신 것을 환영합니다. 다양한 정보를 공유하는
          공간입니다.
        </p>
      </div>

      <style>
        /* visitor-comments 방문자 댓글 공간 꾸미기*/
        .visitor-comments {
          flex: 1 1 100%;
          background-color: white;
          padding: 20px;
          border-radius: 5px;
          box-shadow: 0 0 10px #f2f2f2;
          margin-top: 20px;
        }

        .visitor-comments h2 {
          margin-top: 0;
        }

        .visitor-comments form {
          display: flex;
          flex-direction: column;
        }

        .visitor-comments label {
          margin: 10px 0 5px; /* 상 좌우 하*/
        }

        .visitor-comments input,
        .visitor-comments textarea {
          padding: 10px;
          border: 1px solid #ccc;
          border-radius: 5px;
        }

        /* .visitor-comments button 꾸미기*/
        .visitor-comments button {
          border: none;
          background-color: lightblue;
          color: aliceblue;
          border-radius: 5px;
          margin-top: 10px;
          padding: 10px;
          cursor: pointer; /* button:hover 에 작성하지 않아도 적용된다.*/
        }

        footer {
          text-align: center;
          padding: 20px 0;
          background-color: #333;
          color: aliceblue;
        }
      </style>

      <div class="visitor-comments">
        <h2>방문자 회원가입</h2>
        <form action="#" method="post">
          <label>이름:&nbsp;</label>
          <input type="text" id="이름" />
          <button type="submit" onclick="이름확인()">이름 확인</button>
          <label for="">아이디:&nbsp;</label>
          <input type="text" id="아이디" />
          <label>비밀번호:&nbsp;</label>
          <input type="password" id="pw1" />
          <label>비밀번호 확인:&nbsp;</label>
          <input type="password" id="pw2" />
          <button type="submit" onclick="비밀번호확인()">비밀번호 확인</button>
          <!-- onclick="return 비밀번호확인()" 형식으로 작성하고,
               function 비밀번호확인() {
                        if() {
                                        return false; 형식으로 작성해도 된다.
                              }
                                      }-->

          <button type="submit" onclick="회원가입하기()">회원가입 하기</button>
        </form>
      </div>
    </div>

    <script>
      const pw1가져오기 = document.getElementById("pw1");
      const pw2가져오기 = document.getElementById("pw2");

      function 비밀번호확인() {
        const pw1 = pw1가져오기.value;
        const pw2 = pw2가져오기.value;

        if (pw1 !== pw2) {
          // === 은 jQuery 등을 불러와야 제대로 기능하는 것 같다.
          alert("비밀번호가 일치하지 않습니다.");
          return false;
        } else {
          alert("비밀번호가 일치합니다.");
        }
      }

      const 이름가져오기 = document.getElementById("이름");

      function 이름확인() {
        const namePattern = /^[가-힇]{2,5}$/;
        const 이름 = 이름가져오기.value;

        if (!namePattern.test(이름)) {
          alert("올바르지 않은 이름입니다.");
          return false;
        } else {
          alert("올바른 이름입니다.");
        }
      }

      function 회원가입하기() {
        const name = $("#이름").val();
        const id = $("#아이디").val();
        const pw = $("#pw1").val();

        localStorage.setItem("setName", name);
        localStorage.setItem("setID", id);
        localStorage.setItem("setPW", pw);
      }

      /*
      jQuery 로 작성하는 법

      function 기능이름 () {
        const name = $(".class이름 또는 #id이름").val(); ◀ 이름 정보 가져오기
        const pw1 = $(".class이름 또는 #id이름").val(); ◀ 비밀번호1 정보 가져오기
        const pw2 = $(".class이름 또는 #id이름").val(); ◀ 비밀번호2 정보 가져오기
        const namePattern = /^[가-힇]{2,5}$/;

        // 입력한 이름이 정규식에 부합하는지 확인(테스트)
        // 만약, 확인 결과 부합하지 않는다면 true 로 표현
        if(!namePattern.test(name)) { // 맨 앞에 ! 를 작성하면, 모두 부정한다. 결과적으로 거짓이면 참인 것이다.
            alert("올바르지 않은 이름입니다.");
            // 올바르지 않다는 알림이 뜨고, 회원가입을 하지 못하게 하려면
            return false; // 이름이 올바르지 않으니, 회원가입을 하지 못하게 끝내버리는 것
        }

        // 비밀번호 일치 여부 확인
        if(pw1 !=== pw2) { // 비밀번호1 과 비밀번호2 가 일치하지 않을 때 true
            alert("비밀번호가 일치하지 않습니다.");
            return false; // 비밀번호가 일치하지 않으니, 제출을 하지 못하게 끝내버리는 것
        } 

        // 이름과 비밀번호1, 비밀번호2가 전부 다 아무 문제 없을 때
        alert("회원가입이 가능합니다.");
        return true; // 통과할 수 있도록 true 설정
      }
      */
    </script>

    <footer>
      <p>&copy; 2024 내 블로그. 모든 권리 보유.</p>
    </footer>
  </body>
</html>
